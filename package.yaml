name: bounce-bench
version: 0.1.0
category: acme

dependencies:
  - base
  - clash-prelude
  - clash-lib
  - clash-ghc
  - sdl2
  - mtl
  - text
  - array
  - lens
  - ghc-typelits-natnormalise
  - ghc-typelits-extra
  - ghc-typelits-knownnat
  - clock
  - monad-loops
  - extra


ghc-options:
  -fplugin GHC.TypeLits.KnownNat.Solver
  -fplugin GHC.TypeLits.Normalise
  -fplugin GHC.TypeLits.Extra.Solver
  -O3

default-extensions:
  - NoImplicitPrelude
  - DataKinds
  - TypeFamilies
  - FlexibleContexts
  - TemplateHaskell
  - DeriveGeneric
  - DeriveAnyClass
  - NoStarIsType
  - TypeOperators
  - TypeApplications
  - ScopedTypeVariables

source-dirs:
  - src
  
executables:
  sim-batch:
    source-dirs: sim
    main: sim-batch.hs

  sim-sdl:
    source-dirs: sim
    main: sim-sdl.hs

  sim-ffi: &ffi
    source-dirs:
      - sim
      - csim
    main: sim-ffi.hs

    build-tools: hsc2hs
    include-dirs: csim
    c-sources:
        - csim/Bounce.c
    cc-options: -O3
    
  sim-ffi-sdl:
    <<: *ffi
    main: sim-ffi-sdl.hs
